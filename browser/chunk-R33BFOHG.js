import{d as P,f as M,j as D}from"./chunk-66KRX256.js";import{a as L}from"./chunk-HVYXXNEE.js";import"./chunk-IXDJKJJB.js";import{Aa as x,Cb as S,Db as O,Eb as I,Fa as y,Ja as d,Qa as c,Ra as E,Sa as i,Ta as t,Ua as m,Va as w,Wa as C,Xa as p,Z as _,_ as b,cb as n,db as u,eb as s,ua as h,wa as o}from"./chunk-7X4BFSSS.js";function k(r,a){r&1&&(i(0,"div",4)(1,"div",5)(2,"span",6),n(3,"Loading..."),t()(),i(4,"p",7),n(5,"Cargando pel\xEDcula..."),t()())}function j(r,a){if(r&1&&(i(0,"div",28)(1,"div",29)(2,"h5",30),n(3),t(),i(4,"small",31),n(5),t()(),i(6,"p",32),n(7),t()()),r&2){let e=a.$implicit;o(3),u(e.name),o(2),s("Puntuaci\xF3n: ",e.nota,"/10"),o(2),u(e.opinion)}}function T(r,a){if(r&1&&(i(0,"div",23)(1,"div",24)(2,"h3",25),n(3,"Opiniones de los usuarios"),t(),i(4,"div",26),d(5,j,8,3,"div",27),t()()()),r&2){let e=p(2);o(5),c("ngForOf",e.pelicula.opinions)}}function R(r,a){if(r&1){let e=w();i(0,"div")(1,"div",8)(2,"div",9),m(3,"img",10),t(),i(4,"div",11)(5,"h2",12),n(6),i(7,"span",13),n(8),t()(),i(9,"div",14)(10,"p")(11,"strong",13),n(12,"Director:"),t(),n(13),t(),i(14,"p")(15,"strong",13),n(16,"G\xE9nero:"),t(),n(17),t(),i(18,"p")(19,"strong",13),n(20,"Duraci\xF3n:"),t(),n(21),t(),i(22,"p")(23,"strong",13),n(24,"Clasificaci\xF3n:"),t(),n(25),t()(),i(26,"div",15)(27,"div",16)(28,"h5",17),n(29,"Sinopsis"),t()(),i(30,"div",18)(31,"p",19),n(32),t()()(),i(33,"button",20),C("click",function(){_(e);let v=p();return b(v.router.navigate(["/home"]))}),m(34,"i",21),n(35," Volver al listado "),t()()(),d(36,T,6,1,"div",22),t()}if(r&2){let e=p();o(3),c("src",e.pelicula.imageUrl,h)("alt",e.pelicula.title),o(3),s("",e.pelicula.title," "),o(2),s("(",e.pelicula.year,")"),o(5),s(" ",e.pelicula.director,""),o(4),s(" ",e.pelicula.genre.join(", "),""),o(4),s(" ",e.pelicula.duration," minutos"),o(4),s(" ",e.pelicula.rating,"/10"),o(7),u(e.pelicula.resumen),o(4),c("ngIf",e.pelicula.opinions==null?null:e.pelicula.opinions.length)}}function N(r,a){if(r&1){let e=w();i(0,"div",45)(1,"div",46),C("click",function(v){let f=_(e).$implicit;return p(3).verDetalles(f.id),b(v.stopPropagation())}),m(2,"img",47),i(3,"div",48)(4,"h5",49),n(5),t(),i(6,"p",50),n(7),t()()()()}if(r&2){let e=a.$implicit;o(2),c("src",e.imageUrl,h)("alt",e.title),o(3),u(e.title),o(2),u(e.year)}}function A(r,a){if(r&1&&(i(0,"div",42)(1,"div",43),d(2,N,8,4,"div",44),t()()),r&2){let e=a.$implicit,l=a.index;E("active",l===0),o(2),c("ngForOf",e)}}function V(r,a){if(r&1&&(i(0,"div",33)(1,"div",24)(2,"h3",34),n(3,"Otras pel\xEDculas que te pueden interesar"),t(),i(4,"div",35)(5,"div",36),d(6,A,3,3,"div",37),t(),i(7,"button",38),m(8,"span",39),i(9,"span",6),n(10,"Previous"),t()(),i(11,"button",40),m(12,"span",41),i(13,"span",6),n(14,"Next"),t()()()()()),r&2){let e=p();o(6),c("ngForOf",e.dividirEnGrupos(e.peliculasAleatorias,4))}}var F=class r{constructor(a,e,l){this.route=a;this.router=e;this.peliculaService=l}pelicula;peliculasAleatorias=[];isLoading=!0;ngOnInit(){this.route.paramMap.subscribe(a=>{let e=Number(a.get("id"));isNaN(e)?this.router.navigate(["/home"]):this.loadPeliculaData(e)})}loadPeliculaData(a){this.peliculaService.getPeliculas().subscribe({next:e=>{this.pelicula=e.movies.find(l=>l.id===a),this.pelicula?this.loadRandomMovies(e.movies):this.router.navigate(["/home"]),this.isLoading=!1},error:e=>{console.error("Error loading movies",e),this.router.navigate(["/home"]),this.isLoading=!1}})}loadRandomMovies(a){this.peliculasAleatorias=a.filter(e=>e.id!==this.pelicula.id).sort(()=>.5-Math.random()).slice(0,12)}dividirEnGrupos(a,e){return a.reduce((l,v,f)=>{let g=Math.floor(f/e);return l[g]||(l[g]=[]),l[g].push(v),l},[])}verDetalles(a){this.router.navigate(["/details-list",a])}static \u0275fac=function(e){return new(e||r)(x(P),x(M),x(L))};static \u0275cmp=y({type:r,selectors:[["app-details-list"]],decls:4,vars:3,consts:[[1,"container","mt-5"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],["class","row mt-5 mx-3",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-warning"],[1,"visually-hidden"],[1,"text-white","mt-3"],[1,"row"],[1,"col-md-4"],[1,"img-fluid","rounded","shadow-lg","mb-4",3,"src","alt"],[1,"col-md-8","text-white"],[1,"mb-3"],[1,"text-warning"],[1,"mb-4"],[1,"card","bg-dark","border-warning","mb-4"],[1,"card-header","text-warning"],[1,"mb-0"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-warning","mt-3",3,"click"],[1,"bi","bi-arrow-left"],["class","row mt-5",4,"ngIf"],[1,"row","mt-5"],[1,"col-12"],[1,"text-warning","mb-4"],[1,"list-group"],["class","list-group-item bg-dark text-white border-warning mb-3",4,"ngFor","ngForOf"],[1,"list-group-item","bg-dark","text-white","border-warning","mb-3"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1","text-warning"],[1,"text-light"],[1,"mb-1","mt-2"],[1,"row","mt-5","mx-3"],[1,"text-warning","mb-4","text-center"],["id","peliculasCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#peliculasCarousel","data-bs-slide","prev",1,"carousel-control-prev","custom-carousel-arrow"],["aria-hidden","true",1,"carousel-control-prev-icon"],["type","button","data-bs-target","#peliculasCarousel","data-bs-slide","next",1,"carousel-control-next","custom-carousel-arrow"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-item"],[1,"row","g-3","justify-content-center"],["class","col-xl-3 col-lg-4 col-md-6 col-sm-6 col-6 mb-4 tarjeta-margen",4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-6","col-6","mb-4","tarjeta-margen"],[1,"card","bg-dark","border-warning","h-100","pelicula-card",2,"cursor","pointer",3,"click"],[1,"card-img-top","img-pelicula",3,"src","alt"],[1,"card-body","d-flex","flex-column","p-2"],[1,"card-title","text-white","text-truncate"],[1,"card-text","text-warning","mt-auto"]],template:function(e,l){e&1&&(i(0,"div",0),d(1,k,6,0,"div",1)(2,R,37,10,"div",2)(3,V,15,1,"div",3),t()),e&2&&(o(),c("ngIf",l.isLoading),o(),c("ngIf",l.pelicula&&!l.isLoading),o(),c("ngIf",l.peliculasAleatorias.length&&!l.isLoading))},dependencies:[I,S,O,D],styles:[".pelicula-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;height:100%}.pelicula-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #ffc00333}.img-pelicula[_ngcontent-%COMP%]{height:270px;object-fit:cover;object-position:25% center;width:100%;border-radius:5px}.pelicula-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-color:#343a40;padding:.5rem;flex-grow:0;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.3rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-text[_ngcontent-%COMP%]{font-size:.75rem;color:#ccc;margin:0}#card-text-aleatoria[_ngcontent-%COMP%]{font-style:italic;margin-bottom:4px}#card-aleatoria[_ngcontent-%COMP%]{margin-bottom:3rem}.custom-carousel-arrow[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#ffc107;border:none;top:50%;transform:translateY(-50%);opacity:.9;transition:all .3s ease}.custom-carousel-arrow[_ngcontent-%COMP%]:hover{opacity:1;transform:translateY(-50%) scale(1.1);box-shadow:0 0 20px #ffc107cc;border:2px solid #343a40}.custom-carousel-arrow[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%], .custom-carousel-arrow[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;background-size:100% 100%;filter:invert(0)}.carousel-control-prev.custom-carousel-arrow[_ngcontent-%COMP%]{left:10px}.carousel-control-next.custom-carousel-arrow[_ngcontent-%COMP%]{right:10px}.carousel[_ngcontent-%COMP%]{z-index:1;position:relative}"]})};export{F as DetailsListComponent};
